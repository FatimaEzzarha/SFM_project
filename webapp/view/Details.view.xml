<mvc:View
    controllerName="sfm.salesproject.controller.Details"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:smartTable="sap.ui.comp.smarttable"
    height="100%"
>
    <f:DynamicPage
        id="dynamicPageId"
        headerExpanded="{/headerExpanded}"
        toggleHeaderOnTitleClick="{/titleClickable}"
    >
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="{SalesDocument} {DocumentCategory}" />
                </f:heading>
                <f:breadcrumbs>
                    <Breadcrumbs>
                        <Link text="Home" />
                        <Link text="Page 1" />
                        <Link text="Page 2" />
                        <Link text="Page 3" />
                        <Link text="Page 4" />
                        <Link text="Page 5" />
                    </Breadcrumbs>
                </f:breadcrumbs>
                <f:expandedContent>
                    <Label text="This is a subheading" />
                </f:expandedContent>
                <f:snappedContent>
                    <Label text="This is a subheading" />
                </f:snappedContent>
                <f:snappedTitleOnMobile>
                    <Title text="This is a subheading" />
                </f:snappedTitleOnMobile>
                <f:content>
                    <OverflowToolbar>
                        <GenericTag
                            text="SR"
                            status="Error"
                            press="onPressOpenPopover"
                            design="StatusIconHidden"
                        >
                            <ObjectNumber
                                number="2"
                                unit="M"
                                emphasized="false"
                                state="Error"
                            />
                        </GenericTag>
                    </OverflowToolbar>
                </f:content>
                <f:actions>
                    <Button
                        text="Edit"
                        type="Emphasized"
                        press="toggleAreaPriority"
                    />
                    <Button
                        text="Delete"
                        type="Transparent"
                    />
                    <Button
                        text="Copy"
                        type="Transparent"
                    />
                    <Button
                        text="Toggle Footer"
                        type="Transparent"
                        press="onToggleFooter"
                    />
                    <Button
                        icon="sap-icon://action"
                        type="Transparent"
                    />
                    <Button
                        text="Button with layoutData"
                        type="Transparent"
                        press="onPressOpenPopover"
                    >
                        <layoutData>
                            <OverflowToolbarLayoutData
                                priority="AlwaysOverflow"
                                closeOverflowOnInteraction="false"
                            />
                        </layoutData>
                    </Button>
                </f:actions>
                <f:navigationActions>
                    <Button
                        icon="sap-icon://full-screen"
                        type="Transparent"
                    />
                    <Button
                        icon="sap-icon://decline"
                        type="Transparent"
                    />
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>
        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <layout:HorizontalLayout allowWrapping="true">
                    <layout:VerticalLayout class="sapUiMediumMarginEnd">
                        <ObjectAttribute
                            title="Location"
                            text="Warehouse A"
                        />
                        <ObjectAttribute
                            title="Halway"
                            text="23L"
                        />
                        <ObjectAttribute
                            title="Rack"
                            text="34"
                        />
                    </layout:VerticalLayout>

                    <layout:VerticalLayout>
                        <ObjectAttribute title="Availability" />
                        <ObjectStatus
                            text="In Stock"
                            state="Success"
                        />
                    </layout:VerticalLayout>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <smartTable:SmartTable
                id="idSalesDocumentItemsSmartTable"
                class="sapUiResponsiveContentPadding"
                entitySet="ZI_Item_Sales_doc"
                tableBindingPath="/zc_sales_order_document('{DetailsView>/salesDocument}')/to_Item"
                enableAutoBinding="true"
                tableType="Table"
                header="Line Items"
                showRowCount="true"
            >
                <Table
                    id="idSalesDocumentItemsTable"
                    growing="true"
                    growingScrollToLoad="true"
                    growingThreshold="10"
                    sticky="ColumnHeaders,HeaderToolbar,InfoToolbar"
                    mode="SingleSelectLeft"
                    selectionChange=".onTableSelectionChange"
                >
                </Table>
            </smartTable:SmartTable>
        </f:content>
        <!-- DynamicPage Footer -->
        <f:footer>
            <OverflowToolbar>
                <Button
                    icon="sap-icon://message-popup"
                    text="{/messagesLength}"
                    type="Emphasized"
                    press="onMessageButtonPress"
                    visible="{= !!${/messagesLength}}"
                />
                <ToolbarSpacer />
                <Button
                    type="Accept"
                    text="Accept"
                />
                <Button
                    type="Reject"
                    text="Reject"
                />
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>
